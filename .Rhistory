library(readxl)
planilha_202508 <- read_excel("planilha_2025/planilha_202508.csv")
# Carregar as bibliotecas necessárias
library(tinytex)
library(duckdb)
library(duckdb)
library(dplyr)
library(tibble)
# Configurar conexão com DuckDB (banco de dados em memória)
con <- dbConnect(duckdb::duckdb(), dbdir = ":memory:")
#  o caminho para o arquivo CSV baixado
caminho_csv <- "C:/Users/mslandim/Documents/ufs/mineração de dados/minera-o/planilha_2025/planilha_202508.csv"
# Filtros aplicados: UF = 'AL' AND cliente = 'PJ'
consulta_sql <- "
SELECT
*
FROM
read_csv_auto(?)
WHERE
UF = 'AL'
AND cliente = 'PJ'
"
# Executar a consulta e carregar os resultados em um dataframe
df_filtrado <- dbGetQuery(con, consulta_sql, list(caminho_csv))
# Definir o caminho para o arquivo CSV baixado
# SUBSTITUA ESTE CAMINHO PELO CAMINHO REAL DO SEU ARQUIVO
caminho_csv <- "C:/Users/Katia/OneDrive/Documentos/marcelo/mineração de dados/minera-o/planilha_2025/planilha_202508.csv"
# Consulta SQL para filtrar os dados
# Filtros aplicados: UF = 'AL' AND cliente = 'PJ'
consulta_sql <- "
SELECT
*
FROM
read_csv_auto(?)
WHERE
UF = 'AL'
AND cliente = 'PJ'
"
# Executar a consulta e carregar os resultados em um dataframe
df_filtrado <- dbGetQuery(con, consulta_sql, list(caminho_csv))
# Executar a consulta e carregar os resultados em um dataframe
df_filtrado <- dbGetQuery(con, consulta_sql, list(caminho_csv))
# Fechar a conexão com o banco de dados
dbDisconnect(con)
# Análise exploratória do dataframe resultante
# Visualização rápida da estrutura dos dados
cat("=== ESTRUTURA DO DATAFRAME (glimpse) ===\n")
# Análise exploratória do dataframe resultante
# Visualização rápida da estrutura dos dados
cat("=== ESTRUTURA DO DATAFRAME (glimpse) ===\n")
glimpse(df_filtrado)
# Estatísticas descritivas das variáveis numéricas
cat("\n=== ESTATÍSTICAS DESCRITIVAS (summary) ===\n")
summary(df_filtrado)
# Verificação adicional dos filtros aplicados
cat("\n=== VERIFICAÇÃO DOS FILTROS ===\n")
# Verificação adicional dos filtros aplicados
cat("\n=== VERIFICAÇÃO DOS FILTROS ===\n")
cat("Valores únicos na coluna UF:", unique(df_filtrado$UF), "\n")
cat("Valores únicos na coluna cliente:", unique(df_filtrado$cliente), "\n")
cat("Dimensões do dataframe (linhas x colunas):", dim(df_filtrado), "\n")
# Projeto- Preparação de Datasets para Análise de Risco
# Opção escolhida: 1 - Micro-Segmentos de Risco (Pessoa jurídica)
# UF escolhida: Alagoas (AL)
# Carregar as bibliotecas necessárias
quarto::quarto_install_tinytex()
#| echo: True
#| eval: True
#| warning: False
#| message: False
# Projeto- Preparação de Datasets para Análise de Risco
# Opção escolhida: 1 - Micro-Segmentos de Risco (Pessoa jurídica)
# UF escolhida: Alagoas (AL)
# Carregar as bibliotecas necessárias
library(tinytex)
library(duckdb)
library(dplyr)
library(tibble)
# Configurar conexão com DuckDB (banco de dados em memória)
con <- dbConnect(duckdb::duckdb(), dbdir = ":memory:")
#  o caminho para o arquivo CSV baixado
caminho_csv <- "C:/Users/mslandim/Documents/ufs/mineração de dados/minera-o/planilha_2025/planilha_202508.csv"
# Filtros aplicados: UF = 'AL' AND cliente = 'PJ'
consulta_sql <- "
SELECT
*
FROM
read_csv_auto(?)
WHERE
UF = 'AL'
AND cliente = 'PJ'
"
# Executar a consulta e carregar os resultados em um dataframe
df_filtrado <- dbGetQuery(con, consulta_sql, list(caminho_csv))
# Configurar conexão com DuckDB (banco de dados em memória)
con <- dbConnect(duckdb::duckdb(), dbdir = ":memory:")
#  o caminho para o arquivo CSV baixado
caminho_csv <- "C:/Users/Katia/OneDrive/Documentos/marcelo/mineração de dados/minera-o/planilha_2025/planilha_202508.csv"
# Filtros aplicados: UF = 'AL' AND cliente = 'PJ'
consulta_sql <- "
# Executar a consulta e carregar os resultados em um dataframe
df_filtrado <- dbGetQuery(con, consulta_sql, list(caminho_csv))
# Fechar a conexão com o banco de dados
dbDisconnect(con)
# Análise exploratória do dataframe resultante
# Visualização rápida da estrutura dos dados
cat("=== ESTRUTURA DO DATAFRAME (glimpse) ===\n")
glimpse(df_filtrado)
# Estatísticas descritivas das variáveis numéricas
cat("\n=== ESTATÍSTICAS DESCRITIVAS (summary) ===\n")
summary(df_filtrado)
# Verificação adicional dos filtros aplicados
cat("\n=== VERIFICAÇÃO DOS FILTROS ===\n")
cat("Valores únicos na coluna UF:", unique(df_filtrado$UF), "\n")
cat("Valores únicos na coluna cliente:", unique(df_filtrado$cliente), "\n")
cat("Dimensões do dataframe (linhas x colunas):", dim(df_filtrado), "\n")
cat("Dimensões do dataframe (linhas x colunas):", dim(df_filtrado), "\n")
cat("Dimensões do dataframe (linhas x colunas):", dim(df_filtrado), "\n")
cat("Dimensões do dataframe (linhas x colunas):", dim(df_filtrado), "\n")
# Carregar as bibliotecas necessárias
install.packages('quarto install tinytex')
library(tinytex)
# Carregar as bibliotecas necessárias
install.packages('quarto install tinytex')
library(tinytex)
library(quarto)
# Carregar as bibliotecas necessárias
install.packages('quarto install tinytex')
detach("package:tinytex", unload = TRUE)
library(tinytex)
quarto::quarto_install_tinytex()
# Carregar as bibliotecas necessárias
#Definir mirror do CRAN
options(repos = c(CRAN = "https://cloud.r-project.org/"))
#| echo: True
#| eval: True
#| warning: False
#| message: False
# Projeto- Preparação de Datasets para Análise de Risco
# Opção escolhida: 1 - Micro-Segmentos de Risco (Pessoa jurídica)
# UF escolhida: Alagoas (AL)
#Definir mirror do CRAN
options(repos = c(CRAN = "https://cloud.r-project.org/"))
#| echo: True
#| eval: True
#| warning: False
#| message: False
# Projeto- Preparação de Datasets para Análise de Risco
# Opção escolhida: 1 - Micro-Segmentos de Risco (Pessoa jurídica)
# UF escolhida: Alagoas (AL)
#Definir mirror do CRAN
options(repos = c(CRAN = "https://cloud.r-project.org/"))
# Carregar as bibliotecas necessárias
install.packages('quarto install tinytex')
detach("package:tinytex", unload = TRUE)
library(tinytex)
library(tinytex)
# Carregar as bibliotecas necessárias
install.packages('quarto install tinytex')
install.packages("tinytex")
install.packages("tinytex")
install.packages("quarto")
install.packages("quarto")
tinytex::install_tinytex()
pkgbuild::has_build_tools(debug = TRUE)
```{r}
```{r}
#| echo: True
#| eval: True
#| warning: False
#| message: False
# Projeto- Preparação de Datasets para Análise de Risco
# Opção escolhida: 1 - Micro-Segmentos de Risco (Pessoa jurídica)
# UF escolhida: Alagoas (AL)
# Carregar as bibliotecas necessárias
library(tinytex)
library(duckdb)
library(dplyr)
library(tibble)
# Configurar conexão com DuckDB (banco de dados em memória)
con <- dbConnect(duckdb::duckdb(), dbdir = ":memory:")
# Filtros aplicados: UF = 'AL' AND cliente = 'PJ'
consulta_sql <- "
SELECT
*
FROM
read_csv_auto(?)
WHERE
UF = 'AL'
AND cliente = 'PJ'
"
# Executar a consulta e carregar os resultados em um dataframe
df_filtrado <- dbGetQuery(con, consulta_sql, list(caminho_csv))
# Executar a consulta e carregar os resultados em um dataframe
df_filtrado <- dbGetQuery(con, consulta_sql, list(caminho_csv))
# Fechar a conexão com o banco de dados
dbDisconnect(con)
# Análise exploratória do dataframe resultante
# Visualização rápida da estrutura dos dados
cat("=== ESTRUTURA DO DATAFRAME (glimpse) ===\n")
glimpse(df_filtrado)
glimpse(df_filtrado)
# Estatísticas descritivas das variáveis numéricas
cat("\n=== ESTATÍSTICAS DESCRITIVAS (summary) ===\n")
summary(df_filtrado)
# Verificação adicional dos filtros aplicados
cat("\n=== VERIFICAÇÃO DOS FILTROS ===\n")
cat("Valores únicos na coluna UF:", unique(df_filtrado$UF), "\n")
cat("Valores únicos na coluna cliente:", unique(df_filtrado$cliente), "\n")
cat("Dimensões do dataframe (linhas x colunas):", dim(df_filtrado), "\n")
# Verificação adicional dos filtros aplicados
cat("\n=== VERIFICAÇÃO DOS FILTROS ===\n")
cat("Valores únicos na coluna UF:", unique(df_filtrado$UF), "\n")
cat("Valores únicos na coluna cliente:", unique(df_filtrado$cliente), "\n")
cat("Dimensões do dataframe (linhas x colunas):", dim(df_filtrado), "\n")
